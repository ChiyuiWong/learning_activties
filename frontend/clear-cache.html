<!DOCTYPE html>
<html>
<head>
    <title>æ¸…é™¤ç¼“å­˜æŒ‡å—</title>
    <style>
        body { font-family: Arial; margin: 40px; max-width: 800px; }
        .step { background: #f0f0f0; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .highlight { background: #ffeb3b; padding: 2px 5px; }
        button { padding: 15px 30px; font-size: 16px; margin: 10px; cursor: pointer; }
        .primary { background: #007bff; color: white; border: none; border-radius: 5px; }
        .success { background: #28a745; color: white; border: none; border-radius: 5px; }
        .warning { background: #ffc107; color: black; border: none; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ”§ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æŒ‡å—</h1>
    
    <div class="step">
        <h2>é—®é¢˜åŸå› </h2>
        <p>æ‚¨çš„æµè§ˆå™¨ç¼“å­˜äº†æ—§ç‰ˆæœ¬çš„JavaScriptæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ²¡æœ‰JWT tokenä¼ é€’åŠŸèƒ½ï¼Œå¯¼è‡´APIè¯·æ±‚æ€»æ˜¯è¿”å›401é”™è¯¯ã€‚</p>
    </div>
    
    <div class="step">
        <h2>è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨ä¸´æ—¶é¡µé¢ï¼ˆæ¨èï¼‰</h2>
        <p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ•™å¸ˆç®¡ç†é¡µé¢ï¼Œå®ƒå®Œå…¨ç»•è¿‡ç¼“å­˜é—®é¢˜ï¼š</p>
        <button class="primary" onclick="window.open('emergency-fix.html', '_blank')">
            æ­¥éª¤1: æ‰“å¼€ç´§æ€¥ç™»å½•é¡µé¢
        </button>
        <button class="success" onclick="window.open('temp-teacher.html', '_blank')">
            æ­¥éª¤2: æ‰“å¼€ä¸´æ—¶æ•™å¸ˆé¡µé¢
        </button>
    </div>
    
    <div class="step">
        <h2>è§£å†³æ–¹æ¡ˆ2ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜</h2>
        <h3>æ–¹æ³•A: é”®ç›˜å¿«æ·é”®ï¼ˆæœ€å¿«ï¼‰</h3>
        <ul>
            <li>æŒ‰ <span class="highlight">Ctrl + Shift + R</span> æˆ– <span class="highlight">Ctrl + F5</span> è¿›è¡Œç¡¬åˆ·æ–°</li>
            <li>è¿™ä¼šæ¸…é™¤å½“å‰é¡µé¢çš„ç¼“å­˜å¹¶é‡æ–°åŠ è½½</li>
        </ul>
        
        <h3>æ–¹æ³•B: å¼€å‘è€…å·¥å…·</h3>
        <ol>
            <li>æŒ‰ <span class="highlight">F12</span> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
            <li>å³é”®ç‚¹å‡»æµè§ˆå™¨çš„åˆ·æ–°æŒ‰é’®</li>
            <li>é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"</li>
        </ol>
        
        <h3>æ–¹æ³•C: æ¸…é™¤æµè§ˆå™¨æ•°æ®</h3>
        <ol>
            <li>æŒ‰ <span class="highlight">Ctrl + Shift + Delete</span></li>
            <li>é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"</li>
            <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
        </ol>
        
        <button class="warning" onclick="clearCache()">è‡ªåŠ¨æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½</button>
    </div>
    
    <div class="step">
        <h2>è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨æ— ç—•æ¨¡å¼</h2>
        <ul>
            <li>Chrome: æŒ‰ <span class="highlight">Ctrl + Shift + N</span></li>
            <li>Firefox: æŒ‰ <span class="highlight">Ctrl + Shift + P</span></li>
            <li>Edge: æŒ‰ <span class="highlight">Ctrl + Shift + N</span></li>
        </ul>
        <p>åœ¨æ— ç—•çª—å£ä¸­è®¿é—®åº”ç”¨ï¼Œä¸ä¼šå—åˆ°ç¼“å­˜å½±å“</p>
    </div>
    
    <div class="step">
        <h2>éªŒè¯æ˜¯å¦ä¿®å¤æˆåŠŸ</h2>
        <p>æ¸…é™¤ç¼“å­˜åï¼Œæ‰“å¼€æ•™å¸ˆé¡µé¢æ—¶åº”è¯¥çœ‹åˆ°ï¼š</p>
        <ul>
            <li>âœ… æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º: "Adding JWT token to request headers"</li>
            <li>âœ… APIè¯·æ±‚è¿”å›200çŠ¶æ€ç ï¼Œè€Œä¸æ˜¯401</li>
            <li>âœ… é¡µé¢æ­£å¸¸æ˜¾ç¤ºæ´»åŠ¨åˆ—è¡¨ï¼Œè€Œä¸æ˜¯ç™»å½•æç¤º</li>
        </ul>
    </div>

    <script>
        function clearCache() {
            // æ¸…é™¤localStorage
            localStorage.clear();
            
            // å°è¯•æ¸…é™¤ç¼“å­˜API
            if ('caches' in window) {
                caches.keys().then(function(names) {
                    names.forEach(function(name) {
                        caches.delete(name);
                    });
                });
            }
            
            alert('ç¼“å­˜å·²æ¸…é™¤ï¼é¡µé¢å°†åœ¨3ç§’åé‡æ–°åŠ è½½...');
            
            setTimeout(function() {
                window.location.href = 'emergency-fix.html';
            }, 3000);
        }
    </script>
</body>
</html>
